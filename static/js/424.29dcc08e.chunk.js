"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[424],{854:function(e,t,r){var a=r(691),n=r(184);t.Z=function(){return(0,n.jsx)(a.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})}},659:function(e,t,r){r.d(t,{Z:function(){return u}});var a=r(689),n=r(87),o="MoviesGallery_MoviesGallery__tqAIU",s="MoviesGallery_item__rY1Lr",c="MoviesGallery_Link__-IlD5",i=r(184),u=function(e){var t=e.moviesList,r=(0,a.TH)();return(0,i.jsx)("ul",{className:o,children:t.map((function(e){var t=e.id,a=e.title;return(0,i.jsx)("li",{className:s,children:(0,i.jsx)(n.rU,{to:"/".concat(t),state:{from:r},className:c,children:a})},t)}))})}},424:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var a=r(433),n=r(439),o=r(689),s=r(791),c=r(854);var i={fetchMoviesOnSearch:function(e){return fetch("".concat("https://api.themoviedb.org/3/search/movie?","query=").concat(e,"&include_adult=false&language=en-US&page=1"),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwM2FlMjVjMDdmZmJkZTQ4MzNlOTI4MzAwODQ5MTY0ZSIsInN1YiI6IjY0NmNlYTMyYzM1MTRjMmIwYmY0MGJhMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-xetNvo1KnrMsW_faMs9w9HxpC-ebylSqWAUjThjL_g"}}).then((function(e){return e.ok?e.json():Promise.reject(new Error("No movie "))}))}},u="Searchbar_searchbar__0FWoU",l="Searchbar_SearchForm__XuPyK",h="Searchbar_SearchForm_button__OB9qt",m="Searchbar_SearchForm_label__05Aqp",f="Searchbar_input__19umw",_=r(184);var v=function(e){var t=e.onSubmitForm,r=(0,s.useState)(""),a=(0,n.Z)(r,2),o=a[0],c=a[1];return(0,_.jsx)("header",{className:u,children:(0,_.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault(),t(o),c("")},children:[(0,_.jsx)("button",{type:"submit",className:h,children:(0,_.jsx)("span",{className:m,children:"Search"})}),(0,_.jsx)("input",{type:"text",className:f,autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"query",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())}})]})})},j=r(659),d=function(){var e=(0,s.useState)(""),t=(0,n.Z)(e,2),r=t[0],u=t[1],l=(0,s.useState)(1),h=(0,n.Z)(l,2),m=h[0],f=h[1],d=(0,s.useState)([]),S=(0,n.Z)(d,2),p=S[0],b=S[1],M=(0,s.useState)(!1),x=(0,n.Z)(M,2),y=x[0],N=x[1],Z=(0,s.useState)(null),I=(0,n.Z)(Z,2)[1],w=(0,o.TH)();(0,s.useEffect)((function(){r&&(N(!0),i.fetchMoviesOnSearch(r).then((function(e){var t=e.results;b((0,a.Z)(t))})).catch((function(e){I(e)})).finally((function(){N(!1)})))}),[r,m]);return(0,_.jsxs)("main",{children:[(0,_.jsx)(v,{onSubmitForm:function(e){u(e),b([]),f(1)}}),y&&(0,_.jsx)(c.Z,{}),p.length>1?(0,_.jsx)(j.Z,{moviesList:p,state:{from:w}}):null,(0,_.jsx)(o.j3,{})]})}}}]);
//# sourceMappingURL=424.29dcc08e.chunk.js.map